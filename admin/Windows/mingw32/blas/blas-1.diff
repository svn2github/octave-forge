diff -urN -x *.o -x *.dll -x *.a -x *.exe -x *.def blas-orig/makefile.mingw blas/makefile.mingw
--- blas-orig/makefile.mingw	Thu Jan  1 01:00:00 1970
+++ blas/makefile.mingw	Fri Jun 15 21:27:39 2007
@@ -0,0 +1,66 @@
+LIBTARGET = blas.dll
+
+CXX = mingw32-g++
+# CFLAGS = -MD -O2
+
+# F2C = f2c
+
+F77 = mingw32-g77
+FFLAGS = -O3 -funroll-all-loops
+
+FSOURCES = $(wildcard *.f)
+# CSOURCES = $(patsubst %.f,%.c, $(FSOURCES))
+OBJECTS = $(patsubst %.f,%.o, $(FSOURCES))
+
+DEF_FILES = $(patsubst %.f,%.def, $(FSOURCES))
+LIB_DEFFILE = $(patsubst %.dll,%.def, $(LIBTARGET))
+
+PREFIX=/usr/local
+
+all: $(LIBTARGET)
+
+.SUFFIXES: .f .c .o .def
+
+#%.c : %.f
+#	$(F2C) < $< > $@
+
+#%.o : %.c
+#	$(CC) $(CFLAGS) -o $@ -c $<
+
+%.o : %.f
+	$(F77) $(FFLAGS) -o $@ -c $<
+
+%.def : %.f
+	@echo "Making $@"
+	@sed -n \
+	     -e 'y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/' \
+	     -e 's/^\(      \|	\)\(.*function\|subroutine\|entry\)[ 	]*\([^ 	(]*\).*$$/\3_/p' < $< > $@
+
+$(LIB_DEFFILE): $(DEF_FILES)
+	echo "EXPORTS" > $@
+	cat $(DEF_FILES) >> $@
+
+$(LIBTARGET): $(OBJECTS)
+	$(F77) -shared -o $@ $(OBJECTS) \
+		-Wl,--out-implib,libblas.dll.a \
+		-Wl,--output-def,libblas.def \
+		-Wl,--export-all-symbols \
+		-Wl,--no-whole-archive
+	strip $(STRIP_FLAGS) blas.dll
+
+OTHER_CLEANFILES = $(patsubst %.dll, %.exp, $(LIBTARGET)) \
+		   $(patsubst %.dll, %.ilk, $(LIBTARGET)) \
+		   $(patsubst %.dll, %.lib, $(LIBTARGET)) \
+		   $(patsubst %.dll, %.pdb, $(LIBTARGET))
+
+clean:
+	$(RM) $(OBJECTS) $(CSOURCES)
+	$(RM) $(DEF_FILES) $(LIB_DEFFILE)
+	$(RM) $(LIBTARGET) $(OTHER_CLEANFILES)
+
+install: blas.dll
+	mkdir -p $(PREFIX)/bin
+	mkdir -p $(PREFIX)/lib
+	cp blas.dll $(PREFIX)/bin
+	cp libblas.dll.a $(PREFIX)/lib
+	cp libblas.def $(PREFIX)/lib
