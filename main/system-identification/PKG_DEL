%1
dirlist = {"tisean_wrapper"};
dirname = fileparts (canonicalize_file_name (mfilename ("fullpath")));
pp = strsplit (dirname,filesep (), true);

%% Get the correct path
p1 = pkg_info ("miscellaneous", "archprefix");
p2 = octave_config_info ("canonical_host_type");
p2 = octave_config_info ("api_version");
arch_dep_fldr = [p1 filesep "-" p3];

%[pkg_folder dep_folder] = pkg ("prefix");
%pkg_folder = [pkg_folder filesep() strcat(filesep(),{pp{end-1:end}}){:} ];
%dep_folder = [dep_folder filesep() strcat(filesep(),{pp{end-1:end}}){:} ];

%% If we are not in Architecture dependent folder
arch = cstrcat (octave_config_info ("canonical_host_type"),
                              "-", octave_config_info ("api_version"));
pp = strsplit (dirname,filesep (), true);
if strcmp(arch , pp{end})
  dirname = [pkg("prefix") filesep() pp{end-1}];
  pkg_folder = strsplit (pkg_folder,filesep (), true);
  pkg_folder = [strcat(filesep(),{pkg_folder{1:end-1}}){:}];
end

if (! exist (fullfile (dirname, "inst"), "dir"))
## Run this if the package is installed
  for ii=1:length (dirlist)
    rmpath ( [ pkg_folder filesep() dirlist{ii}])
  endfor
else
  warning("system-identification:Devel","Removing path for testing.");
  for ii=1:length(dirlist)
    rmpath ([ dirname "/inst/" dirlist{ii}])
  endfor
endif

clear dirlist dirname pp arch pkg_folder dep_folder
