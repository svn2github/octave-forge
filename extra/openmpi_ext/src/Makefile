MPIINC = -I/usr/lib/openmpi/include -I/usr/lib/openmpi/include/openmpi
MPILIBS = -lpthread -L/usr/lib/openmpi/lib -lmpi_cxx -lmpi -lopen-rte -lopen-pal -ldl -Wl,--export-dynamic -lnsl -lutil -lm -ldl

all: MPI_Init.oct \
     MPI_Initialized.oct \
     MPI_Comm_rank.oct \
     MPI_Comm_size.oct \
     MPI_Finalize.oct \
     MPI_Finalized.oct \
     MPI_Send.oct \
     MPI_Recv.oct \
     MPI_Iprobe.oct \
     MPI_Probe.oct \
     MPI_Barrier.oct \
     octave_comm_make.oct \
     octave_comm_test.oct \

%.oct: %.cc
	mkoctfile -s $(MPIINC)  $(MPILIBS)   $<
clean:
	-rm *.o  *.oct *~
